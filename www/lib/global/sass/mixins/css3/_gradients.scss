@function first($list) {
  @return nth($list, 1);
}

@function last($list) {
  @return nth($list, length($list));
}

// {{{ mixin: gradient
@mixin gradient($colors...) {
    @include linear-gradient(to bottom, $colors);
}
// }}}
// {{{ mixin: linear-gradient
@mixin linear-gradient($direction, $colors...) {
    $fallbackDirection: null;
    $x1: 0%;
    $x2: 0%;
    $y1: 0%;
    $y2: 0%;

    @if ("#{$direction}" == "to bottom") {
        $fallbackDirection: top;
        $y2: 100%;
    } @elseif ("#{$direction}" == "to top") {
        $fallbackDirection: bottom;
        $y1: 100%;
    } @elseif ("#{$direction}" == "to left") {
        $fallbackDirection: right;
        $x2: 100%;
    } @elseif ("#{$direction}" == "to right") {
        $fallbackDirection: left;
        $x1: 100%;
    } @else {
        $fallbackDirection: $direction;
    }

    background: first(first($colors)); // Old browsers

    @if function_exists(base64Encode) {
        // IE 9
        $svg: '<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="grad-ucgg-generated" gradientUnits="userSpaceOnUse" x1="#{$x1}" y1="#{$y1}" x2="#{$x2}" y2="#{$y2}">';
        @each $color in $colors {
            $svg: $svg + '<stop offset="#{nth($color, 2)}" stop-color="#{first($color)}" stop-opacity="1"/>';
        }
        $svg: $svg + '</linearGradient><rect x="0" y="0" width="1" height="1" fill="url(#grad-ucgg-generated)" /></svg>';
        background: url('data:image/svg+xml;charset=utf-8;base64,' + base64Encode($svg)) no-repeat scroll 0 0 / 100% 100% transparent;
    }

    background: -moz-linear-gradient($fallbackDirection, $colors); // FF3.6+
    background: -webkit-linear-gradient($fallbackDirection, $colors); // Chrome10+,Safari5.1+
    background: -o-linear-gradient($fallbackDirection, $colors); // Opera 11.10+
    background: -ms-linear-gradient($fallbackDirection, $colors); // IE10+
    background: linear-gradient($direction, $colors); // W3C
}
// }}}

// vim:set ft=scss sw=4 sts=4 fdm=marker :
